# ğŸ“˜ MediaGenie Azure Marketplace éƒ¨ç½²å®Œæ•´æŒ‡å—

## ğŸ¯ æ¦‚è¿°

æœ¬æŒ‡å—æä¾?**MediaGenie** é¡¹ç›®å®Œæ•´çš?Azure Marketplace éƒ¨ç½²æ–¹æ¡ˆ,è§£å†³äº†ä¹‹å‰éƒ¨ç½²å¤±è´¥çš„æ‰€æœ‰é—®é¢?

### âœ?è§£å†³çš„é—®é¢?
1. âœ?**èµ„æºä¸è¶³** - ä½¿ç”¨ B1 SKU æ›¿ä»£ F1 å…è´¹å±?
2. âœ?**éƒ¨ç½²åŒ…ä¸å®Œæ•´** - åŒ…å«å‰ç«¯ build äº§ç‰©å’Œåç«¯å®Œæ•´ä»£ç ?
3. âœ?**è·¯å¾„é—®é¢˜** - å‰åç«¯åˆ†ç¦?ç‹¬ç«‹ URL,æ­£ç¡®çš?API è·¯å¾„é…ç½®
4. âœ?**å‰ç«¯è®¿é—®é”™è¯¯** - é…ç½® web.config æ”¯æŒ React Router
5. âœ?**å?URL è¦æ±‚** - æä¾›å‰ç«¯å’Œåç«¯ä¸¤ä¸ªç‹¬ç«‹çš„å…¬ç½‘ URL

---

## ğŸ—ï¸?éƒ¨ç½²æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?
â”?        Azure Marketplace éƒ¨ç½²æ¶æ„                  â”?
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?
â”?                                                    â”?
â”? â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?â”?
â”? â”? Frontend Web Appâ”?       â”?Backend Web App  â”?â”?
â”? â”? (Node.js 18)    â”‚â—„â”€â”€â”€â”€â”€â”€â–ºâ”‚ (Python 3.10)    â”?â”?
â”? â”? React SPA       â”?HTTPS  â”?FastAPI          â”?â”?
â”? â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?â”?
â”?        â–?                          â–?             â”?
â”?        â”?                          â”?             â”?
â”?        â”?   App Service Plan (B1)  â”?             â”?
â”?        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?             â”?
â”?                                                    â”?
â”? â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?â”?
â”? â”?        Azure è®¤çŸ¥æœåŠ¡                        â”?â”?
â”? â”? â€?OpenAI (GPT-4)                            â”?â”?
â”? â”? â€?Speech Service (è¯­éŸ³è½¬æ–‡æœ?æ–‡æœ¬è½¬è¯­éŸ?    â”?â”?
â”? â”? â€?Computer Vision (å›¾åƒåˆ†æ)               â”?â”?
â”? â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?â”?
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?
```

### ğŸŒ è¾“å‡ºçš?2 ä¸?URL (ç¬¦åˆ Marketplace è¦æ±‚)

1. **å‰ç«¯åº”ç”¨ URL** (ä¸?URL)
   - æ ¼å¼: `https://mediagenie-web-xxxxxx.azurewebsites.net`
   - ç”¨é€? ç”¨æˆ·è®¿é—®çš?Web ç•Œé¢

2. **åç«¯ API URL**
   - æ ¼å¼: `https://mediagenie-api-xxxxxx.azurewebsites.net`
   - ç”¨é€? API æœåŠ¡ã€å¥åº·æ£€æŸ¥ã€æ–‡æ¡?

---

## ğŸ“‹ å‰ç½®è¦æ±‚

### 1. Azure è®¢é˜…
- æœ‰æ•ˆçš?Azure è®¢é˜…
- è®¢é˜…ä¸­æœ‰è¶³å¤Ÿçš„é…é¢åˆ›å»?Web App (B1 SKU)

### 2. Azure è®¤çŸ¥æœåŠ¡å¯†é’¥
ç¡®ä¿ä½ å·²ç»åˆ›å»ºäº†ä»¥ä¸‹æœåŠ¡å¹¶è·å–å¯†é’?

- **Azure OpenAI Service**
  - API Key
  - Endpoint (ä¾? `https://your-openai.openai.azure.com/`)
  - Deployment Name (ä¾? `gpt-4.1`)

- **Azure Speech Service**
  - API Key
  - Region (ä¾? `eastus`)

- **Azure Computer Vision** (å¯é€?
  - API Key
  - Endpoint

### 3. æœ¬åœ°ç¯å¢ƒ (å¯é€?ç”¨äºæµ‹è¯•)
å¦‚æœè¦åœ¨æœ¬åœ°æµ‹è¯•æ„å»º:
- Node.js 16+ (å‰ç«¯æ„å»º)
- Python 3.10+ (åç«¯æµ‹è¯•)

---

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### æ–¹å¼ 1: Cloud Shell è‡ªåŠ¨éƒ¨ç½² (æ¨è)

#### æ­¥éª¤ 1: å‡†å¤‡é¡¹ç›®æ–‡ä»¶

1. æ‰“å¼€ Azure Portal: https://portal.azure.com
2. ç‚¹å‡»å³ä¸Šè§’çš„ Cloud Shell å›¾æ ‡ (>_)
3. é€‰æ‹© **Bash** æ¨¡å¼

#### æ­¥éª¤ 2: ä¸Šä¼ é¡¹ç›®åˆ?Cloud Shell

```bash
# åœ?Cloud Shell ä¸­åˆ›å»ºå·¥ä½œç›®å½?
mkdir -p ~/mediagenie
cd ~/mediagenie
```

**ä¸Šä¼ æ–‡ä»¶æ–¹å¼ A: ä½¿ç”¨ Cloud Shell ä¸Šä¼ åŠŸèƒ½**
1. ç‚¹å‡» Cloud Shell å·¥å…·æ çš„ "ä¸Šä¼ /ä¸‹è½½æ–‡ä»¶" å›¾æ ‡
2. é€‰æ‹©æœ¬åœ°é¡¹ç›®æ–‡ä»¶å¤¹ä¸­çš„ä»¥ä¸‹å†…å®?
   - `backend/` æ–‡ä»¶å¤?
   - `frontend/` æ–‡ä»¶å¤?
   - `deploy-marketplace-complete.sh` è„šæœ¬

**ä¸Šä¼ æ–‡ä»¶æ–¹å¼ B: ä½¿ç”¨ Git (å¦‚æœé¡¹ç›®åœ?GitHub)**
```bash
git clone https://github.com/your-username/mediagenie.git
cd mediagenie
```

#### æ­¥éª¤ 3: é…ç½®å¯†é’¥

ç¼–è¾‘éƒ¨ç½²è„šæœ¬,æ›¿æ¢ä½ çš„å®é™…å¯†é’¥:

```bash
nano deploy-marketplace-complete.sh
```

ä¿®æ”¹ä»¥ä¸‹å˜é‡:
```bash
AZURE_OPENAI_KEY="ä½ çš„-OpenAI-å¯†é’¥"
AZURE_OPENAI_ENDPOINT="https://ä½ çš„-openai.openai.azure.com/"
AZURE_SPEECH_KEY="ä½ çš„-Speech-å¯†é’¥"
AZURE_SPEECH_REGION="eastus"
```

ä¿å­˜å¹¶é€€å‡?(Ctrl+O, Enter, Ctrl+X)

#### æ­¥éª¤ 4: æ‰§è¡Œéƒ¨ç½²

```bash
# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x deploy-marketplace-complete.sh

# æ‰§è¡Œéƒ¨ç½²
./deploy-marketplace-complete.sh
```

#### æ­¥éª¤ 5: ç­‰å¾…éƒ¨ç½²å®Œæˆ

è„šæœ¬ä¼šè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ“ä½?
1. âœ?éªŒè¯ Azure CLI ç¯å¢ƒ
2. âœ?ç”Ÿæˆå”¯ä¸€çš„åº”ç”¨åç§?
3. âœ?åˆ›å»ºèµ„æºç»?
4. âœ?åˆ›å»º App Service Plan (B1)
5. âœ?åˆ›å»ºåç«¯ Web App (Python)
6. âœ?é…ç½®åç«¯ç¯å¢ƒå˜é‡å’?CORS
7. âœ?éƒ¨ç½²åç«¯ä»£ç 
8. âœ?æ„å»ºå‰ç«¯ React åº”ç”¨
9. âœ?åˆ›å»ºå‰ç«¯ Web App (Node.js)
10. âœ?éƒ¨ç½²å‰ç«¯é™æ€æ–‡ä»?
11. âœ?éªŒè¯éƒ¨ç½²å¥åº·çŠ¶æ€?

**é¢„è®¡æ—¶é—´: 5-10 åˆ†é’Ÿ**

---

### æ–¹å¼ 2: æœ¬åœ°æ„å»º + æ‰‹åŠ¨éƒ¨ç½²

å¦‚æœ Cloud Shell ä¸?Node.js ä¸å¯ç”?å¯ä»¥æœ¬åœ°æ„å»ºå‰ç«¯:

#### æœ¬åœ°æ„å»ºå‰ç«¯

```bash
# åœ¨æœ¬åœ°é¡¹ç›®ç›®å½?
cd frontend

# åˆ›å»ºç”Ÿäº§ç¯å¢ƒé…ç½® (ä¸´æ—¶,åç»­ä¼šè¢«è„šæœ¬è¦†ç›–)
echo "REACT_APP_MEDIA_SERVICE_URL=https://your-backend.azurewebsites.net" > .env.production

# å®‰è£…ä¾èµ–
npm install

# æ„å»º
npm run build
```

#### å‹ç¼© build æ–‡ä»¶å¤?

```powershell
# Windows PowerShell
Compress-Archive -Path frontend\build\* -DestinationPath frontend-build.zip
```

#### ä¸Šä¼ åˆ?Cloud Shell å¹¶éƒ¨ç½?

1. ä¸Šä¼  `frontend-build.zip` åˆ?Cloud Shell
2. ä¿®æ”¹è„šæœ¬è·³è¿‡å‰ç«¯æ„å»ºæ­¥éª¤
3. æ‰‹åŠ¨è§£å‹å¹¶éƒ¨ç½?

---

## ğŸ” éƒ¨ç½²åéªŒè¯?

### 1. æ£€æŸ¥åç«?API

```bash
# åç«¯å¥åº·æ£€æŸ?
curl https://mediagenie-api-xxxxxx.azurewebsites.net/health

# é¢„æœŸè¾“å‡º:
{
  "status": "healthy",
  "service": "MediaGenie API",
  "version": "1.0.0"
}
```

```bash
# è®¿é—® API æ–‡æ¡£
curl https://mediagenie-api-xxxxxx.azurewebsites.net/docs
```

### 2. æ£€æŸ¥å‰ç«¯é¡µé?

åœ¨æµè§ˆå™¨ä¸­è®¿é—?
```
https://mediagenie-web-xxxxxx.azurewebsites.net
```

åº”è¯¥çœ‹åˆ° MediaGenie çš„ç™»å½?ä¸»é¡µé¢ã€?

### 3. æµ‹è¯•å‰åç«¯è¿æ?

1. æ‰“å¼€å‰ç«¯ URL
2. å°è¯•ä½¿ç”¨åŠŸèƒ½ (ä¾? æ–‡æœ¬è½¬è¯­éŸ?
3. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…?(F12)
4. æ£€æŸ?Network æ ‡ç­¾,ç¡®è®¤è¯·æ±‚å‘é€åˆ°æ­£ç¡®çš„åç«?URL

### 4. æŸ¥çœ‹æ—¥å¿— (å¦‚æœæœ‰é—®é¢?

```bash
# æŸ¥çœ‹åç«¯æ—¥å¿—
az webapp log tail \
  --name mediagenie-api-xxxxxx \
  --resource-group MediaGenie-Marketplace-RG

# æŸ¥çœ‹å‰ç«¯æ—¥å¿—
az webapp log tail \
  --name mediagenie-web-xxxxxx \
  --resource-group MediaGenie-Marketplace-RG
```

---

## ğŸ› ï¸?å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜ 1: åç«¯å¥åº·æ£€æŸ¥å¤±è´?(HTTP 500/503)

**åŸå› **: ç¯å¢ƒå˜é‡é…ç½®é”™è¯¯æˆ–ä¾èµ–å®‰è£…å¤±è´?

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥åº”ç”¨è®¾ç½?
az webapp config appsettings list \
  --name mediagenie-api-xxxxxx \
  --resource-group MediaGenie-Marketplace-RG

# æŸ¥çœ‹æ—¥å¿—
az webapp log tail \
  --name mediagenie-api-xxxxxx \
  --resource-group MediaGenie-Marketplace-RG
```

### é—®é¢˜ 2: å‰ç«¯ API è°ƒç”¨å¤±è´¥ (CORS é”™è¯¯)

**åŸå› **: CORS é…ç½®æœªæ­£ç¡®è®¾ç½?

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ·»åŠ  CORS å…è®¸æº?
az webapp cors add \
  --name mediagenie-api-xxxxxx \
  --resource-group MediaGenie-Marketplace-RG \
  --allowed-origins "https://mediagenie-web-xxxxxx.azurewebsites.net"

# é‡å¯åç«¯
az webapp restart \
  --name mediagenie-api-xxxxxx \
  --resource-group MediaGenie-Marketplace-RG
```

### é—®é¢˜ 3: å‰ç«¯è·¯ç”± 404 é”™è¯¯

**åŸå› **: web.config æœªæ­£ç¡®éƒ¨ç½?

**è§£å†³æ–¹æ¡ˆ**:
éƒ¨ç½²è„šæœ¬å·²åŒ…å?web.config åˆ›å»º,å¦‚æœä»æœ‰é—®é¢˜:

1. æ‰‹åŠ¨åˆ›å»º `web.config` æ–‡ä»¶
2. é‡æ–°éƒ¨ç½²å‰ç«¯

### é—®é¢˜ 4: B1 SKU èµ„æºä¸è¶³

**ç—‡çŠ¶**: éƒ¨ç½²æ—¶æç¤ºé…é¢ä¸è¶?

**è§£å†³æ–¹æ¡ˆ**:
```bash
# é€‰é¡¹ 1: æ›´æ¢åŒºåŸŸ
LOCATION="westus"  # æˆ?centralus, westeurope

# é€‰é¡¹ 2: å‡çº§åˆ?B2
SKU="B2"

# é€‰é¡¹ 3: è¯·æ±‚é…é¢å¢åŠ 
# è®¿é—® Azure Portal â†?Support â†?New support request
```

### é—®é¢˜ 5: å‰ç«¯æ„å»ºå¤±è´¥ (å†…å­˜ä¸è¶³)

**ç—‡çŠ¶**: `JavaScript heap out of memory`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# å¢åŠ  Node.js å†…å­˜é™åˆ¶
export NODE_OPTIONS="--max-old-space-size=4096"

# é‡æ–°æ„å»º
npm run build
```

---

## ğŸ“Š èµ„æºæˆæœ¬ä¼°ç®—

### B1 å®šä»·å±?(æ¨è)

| èµ„æºç±»å‹ | æ•°é‡ | æœˆè´¹ç”?(USD) |
|---------|------|-------------|
| App Service Plan (B1) | 1 | ~$13 |
| Web App (å‰ç«¯) | 1 | åŒ…å«åœ?Plan ä¸?|
| Web App (åç«¯) | 1 | åŒ…å«åœ?Plan ä¸?|
| Azure OpenAI (GPT-4) | - | æŒ‰ä½¿ç”¨é‡ |
| Azure Speech Service | - | å…è´¹å±?5å°æ—¶/æœ?|
| **æ€»è®¡** | | ~$13-50/æœ?|

### æˆæœ¬ä¼˜åŒ–å»ºè®®

1. **å¼€å?æµ‹è¯•ç¯å¢ƒ**: ä½¿ç”¨ F1 å…è´¹å±?(æœ‰é™åˆ?
2. **ç”Ÿäº§ç¯å¢ƒ**: B1 æˆ?B2
3. **é«˜æµé‡?*: P1V2 + CDN

---

## ğŸ”„ æ›´æ–°éƒ¨ç½²

### æ›´æ–°åç«¯ä»£ç 

```bash
# é‡æ–°æ‰“åŒ…åç«¯
cd backend
zip -r backend.zip .

# ä¸Šä¼ 
az webapp deployment source config-zip \
  --name mediagenie-api-xxxxxx \
  --resource-group MediaGenie-Marketplace-RG \
  --src backend.zip
```

### æ›´æ–°å‰ç«¯ä»£ç 

```bash
# é‡æ–°æ„å»º
cd frontend
npm run build

# æ‰“åŒ…
cd build
zip -r ../frontend.zip .

# ä¸Šä¼ 
az webapp deployment source config-zip \
  --name mediagenie-web-xxxxxx \
  --resource-group MediaGenie-Marketplace-RG \
  --src frontend.zip
```

---

## ğŸ§¹ æ¸…ç†èµ„æº

### åˆ é™¤æ‰€æœ‰éƒ¨ç½²çš„èµ„æº

```bash
# åˆ é™¤æ•´ä¸ªèµ„æºç»?(åŒ…å«æ‰€æœ‰èµ„æº?
az group delete \
  --name MediaGenie-Marketplace-RG \
  --yes \
  --no-wait
```

### ä»…åˆ é™¤ç‰¹å®šèµ„æº?

```bash
# åˆ é™¤å‰ç«¯ Web App
az webapp delete \
  --name mediagenie-web-xxxxxx \
  --resource-group MediaGenie-Marketplace-RG

# åˆ é™¤åç«¯ Web App
az webapp delete \
  --name mediagenie-api-xxxxxx \
  --resource-group MediaGenie-Marketplace-RG
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Azure App Service æ–‡æ¡£](https://docs.microsoft.com/azure/app-service/)
- [Azure OpenAI Service](https://docs.microsoft.com/azure/cognitive-services/openai/)
- [Azure Speech Service](https://docs.microsoft.com/azure/cognitive-services/speech-service/)
- [Azure Marketplace å‘å¸ƒæŒ‡å—](https://docs.microsoft.com/azure/marketplace/)

---

## ğŸ†˜ è·å–å¸®åŠ©

### æŠ€æœ¯æ”¯æŒ?
- Azure æ”¯æŒ: https://azure.microsoft.com/support/
- GitHub Issues: https://github.com/your-repo/issues

### è”ç³»æ–¹å¼
- é‚®ç®±: support@mediagenie.com
- æ–‡æ¡£: https://docs.mediagenie.com

---

## âœ?æ£€æŸ¥æ¸…å?

éƒ¨ç½²å‰ç¡®è®?

- [ ] Azure è®¢é˜…å·²æ¿€æ´?
- [ ] OpenAI Service å¯†é’¥å·²è·å?
- [ ] Speech Service å¯†é’¥å·²è·å?
- [ ] é¡¹ç›®æ–‡ä»¶å·²ä¸Šä¼ åˆ° Cloud Shell
- [ ] éƒ¨ç½²è„šæœ¬ä¸­çš„å¯†é’¥å·²æ›´æ–?
- [ ] è„šæœ¬æœ‰æ‰§è¡Œæƒé™?(`chmod +x`)

éƒ¨ç½²åéªŒè¯?

- [ ] åç«¯å¥åº·æ£€æŸ¥è¿”å›?200
- [ ] å‰ç«¯é¡µé¢å¯ä»¥è®¿é—®
- [ ] API æ–‡æ¡£é¡µé¢å¯ä»¥æ‰“å¼€
- [ ] å‰ç«¯å¯ä»¥æˆåŠŸè°ƒç”¨åç«¯ API
- [ ] è¯­éŸ³è½¬æ–‡æœ¬åŠŸèƒ½æ­£å¸?
- [ ] æ–‡æœ¬è½¬è¯­éŸ³åŠŸèƒ½æ­£å¸?
- [ ] å›¾åƒåˆ†æåŠŸèƒ½æ­£å¸¸
- [ ] GPT èŠå¤©åŠŸèƒ½æ­£å¸¸

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-10-22)
- âœ?åˆå§‹ç‰ˆæœ¬
- âœ?å‰åç«¯åˆ†ç¦»éƒ¨ç½?
- âœ?æ”¯æŒ Azure Marketplace å?URL è¦æ±‚
- âœ?ä¿®å¤èµ„æºä¸è¶³é—®é¢˜ (B1 SKU)
- âœ?ä¿®å¤éƒ¨ç½²åŒ…å®Œæ•´æ€§é—®é¢?
- âœ?ä¿®å¤ API è·¯å¾„é…ç½®é—®é¢˜
- âœ?æ·»åŠ å®Œæ•´çš„é”™è¯¯å¤„ç†å’ŒéªŒè¯

---

**ğŸ‰ ç¥éƒ¨ç½²é¡ºåˆ?**
